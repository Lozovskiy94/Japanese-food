{"version":3,"sources":["components/Cart/SubmitOrder.module.css","components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Meals/MealList.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Layout/Header.module.css","components/Meals/PromoText.module.css","components/UI/Card.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Input.module.css","assets/sushi.jpg","components/Cart/CartIcon.js","store/cart-contex.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/Meals/PromoText.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/MealList.js","components/Meals/Meals.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/SubmitOrder.js","components/Cart/Cart.js","store/CartContextProvider.js","App.js","index.js"],"names":["module","exports","CartIcon","_jsx","xmlns","viewBox","fill","children","d","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearCart","HeaderCartButton","props","_useState","useState","_useState2","_slicedToArray","isButtonAnimated","setIsButtonAnimated","cartContext","useContext","cartItemsNumber","reduce","curValue","amount","buttonClasses","concat","styles","button","bump","useEffect","length","timer","setTimeout","clearTimeout","_jsxs","className","onClick","icon","badge","Header","Fragment","header","onShowCart","src","sushiImage","alt","PromoText","Card","card","Input","forwardRef","ref","input","htmlFor","label","_objectSpread","MealItemForm","isAmountValid","setIsAmountValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","inputAmount","current","value","trim","onAddToCart","min","step","type","defaultValue","MealItem","formatedPrice","price","toFixed","meal","name","description","MealList","meals","setMeals","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","httpErroreMessage","setHttpErrorMessage","fetchMeals","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","responseData","loadedMeals","key","wrap","_context","prev","next","fetch","sent","ok","Error","json","push","stop","apply","arguments","catch","err","message","loading","mealList","map","Meals","Backdrop","backdrop","onHideCart","ModalWindow","modal","content","portalElement","document","querySelector","Modal","ReactDOM","createPortal","CartItem","classes","summary","actions","onRemove","onAdd","isInputValid","inputValue","SubmitOrder","city","address","formValidity","setFormValidity","nameInputRef","cityInputRef","addressInputRef","nameInputClasses","control","invalid","cityInputClasses","addressInputClasses","enteredName","enteredCity","enteredAddress","isEnteredNameValid","isEnteredCityValid","isEnteredAddressValid","submit","Cart","isSubmitOrderAvailable","setIsSubmitOrderAvailable","isDataSubmitting","setIsDataSubmitting","wasDataSendingSuccuessful","setWasDataSendingSuccessful","Math","abs","hasItems","removeCartItemHandler","addCartItemHandler","submitOrderHandler","userData","method","body","JSON","stringify","user","orderedMeals","_x","cardItems","bind","modalButtons","cartModalContent","total","dataSubmittingCartModalContent","dataWasSubmittedCartModalContent","defaultCartState","cartReducer","state","action","updatedItems","updetedItem","updatedTotalAmount","existingCartItemIndex","findIndex","exestingCartItem","_toConsumableArray","console","log","filter","CartContextProvider","_useReducer","useReducer","_useReducer2","cartState","dispatchCartAction","Provider","App","cartIsVisible","setCartIsVisible","render","getElementById"],"mappings":"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","file":"static/js/main.0c395323.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SubmitOrder_form__Jn4mw\",\"control\":\"SubmitOrder_control__1lsJL\",\"actions\":\"SubmitOrder_actions__2WmYF\",\"submit\":\"SubmitOrder_submit__1OA4X\",\"invalid\":\"SubmitOrder_invalid__1ESwg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__15KxJ\",\"total\":\"Cart_total__2DhZK\",\"actions\":\"Cart_actions__3mqKg\",\"button--alt\":\"Cart_button--alt__16MaO\",\"button\":\"Cart_button__fldcp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__1L3Ew\",\"summary\":\"CartItem_summary__23D8f\",\"price\":\"CartItem_price__1C6bo\",\"amount\":\"CartItem_amount__y9xoV\",\"actions\":\"CartItem_actions__3QVlJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__292hT\",\"icon\":\"HeaderCartButton_icon__NKZw7\",\"badge\":\"HeaderCartButton_badge__2NaE7\",\"bump\":\"HeaderCartButton_bump__2vUS9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"MealList_meals__3_ihy\",\"meals-appear\":\"MealList_meals-appear__3KsHz\",\"loading\":\"MealList_loading__1ta-u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__xEYIs\",\"description\":\"MealItem_description__RUeXL\",\"price\":\"MealItem_price__1gPv5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1LGxC\",\"modal\":\"Modal_modal__NmklP\",\"slide-down\":\"Modal_slide-down__3pdRU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2eiwx\",\"main-image\":\"Header_main-image__1K-xL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"promo-text\":\"PromoText_promo-text__1s3J4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__wUfxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__1-oQI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2dRYu\"};","export default __webpack_public_path__ + \"static/media/sushi.a2b4b921.jpg\";","const CartIcon = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 20 20\"\n      fill=\"currentColor\"\n    >\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\n    </svg>\n  );\n};\n\nexport default CartIcon;\n","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n    items: [],\r\n    totalAmount: 0,\r\n    addItem: (item) => {},\r\n    removeItem: (id) => {},\r\n    clearCart: () => {}\r\n    \r\n}) \r\n\r\nexport default CartContext","import styles from './HeaderCartButton.module.css'\r\nimport CartIcon from '../Cart/CartIcon'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport CartContext from '../../store/cart-contex'\r\n\r\nconst HeaderCartButton = (props) => {\r\n\r\n    const [isButtonAnimated, setIsButtonAnimated] = useState(false)\r\n\r\n    const cartContext = useContext(CartContext)\r\n\r\n    const cartItemsNumber = cartContext.items.reduce((curValue, item)=>{\r\n        return curValue + item.amount\r\n    }, 0)\r\n\r\n    const  buttonClasses = `${styles.button} ${isButtonAnimated ? styles.bump : ''}`\r\n\r\n    useEffect(() => {\r\n        if(cartContext.items.length === 0) {\r\n            return\r\n        }\r\n        setIsButtonAnimated(true)\r\n\r\n        const timer = setTimeout(()=>{\r\n            setIsButtonAnimated(false)\r\n        }, 300)\r\n        return () => {\r\n            clearTimeout(timer)\r\n        }\r\n    }, [cartContext.items])\r\n\r\n    return <button className={buttonClasses} onClick={props.onClick}>\r\n        <span className={styles.icon}>\r\n            <CartIcon/>\r\n        </span>\r\n        <span>Корзина</span>\r\n        <span className={styles.badge}>{cartItemsNumber}</span>\r\n    </button>\r\n}\r\n\r\nexport default HeaderCartButton","import styles from './Header.module.css'\r\nimport sushiImage from '../../assets/sushi.jpg'\r\nimport React from 'react'\r\nimport HeaderCartButton from './HeaderCartButton'\r\n\r\nconst Header = (props) => {\r\n    return <React.Fragment>\r\n        <header className={styles.header}>\r\n            <h1>Япона Кухня</h1>\r\n            <HeaderCartButton onClick={props.onShowCart}/>\r\n        </header>\r\n        <div className={styles['main-image']}> \r\n            <img src={sushiImage} alt='Блюда японской кухни'/>\r\n        </div>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Header","import styles from \"./PromoText.module.css\";\n\nconst PromoText = () => {\n  return (\n    <section className={styles[\"promo-text\"]}>\n      <h2>Онлайн Суши Ресторан Япона Кухня</h2>\n      <p>\n        Япона Кухня - это онлайн суши-ресторан, в котором любимые суши и сашими,\n        роллы и другие блюда национальной японской кухни делает команда\n        профессиональных поваров.\n      </p>\n      <p>\n        Быстрая работа и качественная продукция, а также самые настоящие\n        компоненты придают хороший вкус блюдам, дарят наслаждение от трапезы.\n      </p>\n    </section>\n  );\n};\n\nexport default PromoText;\n","import styles from './Card.module.css'\r\n\r\nconst Card = (props) => {\r\n    return <div className={styles.card}>{props.children}</div>\r\n}\r\n\r\nexport default Card","import styles from './Input.module.css'\r\nimport React from 'react'\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n    return <div className={styles.input}>\r\n        <label htmlFor={props.input.id}>{props.label}</label>\r\n        <input ref={ref} {...props.input} />\r\n    </div>\r\n})\r\n\r\nexport default Input","import { useRef, useState } from 'react'\r\nimport styles from './MealItemForm.module.css'\r\nimport Input from '../../UI/Input'\r\n\r\nconst MealItemForm = (props) => {\r\n\r\n    const [isAmountValid, setIsAmountValid] = useState(true)\r\n\r\n    const amountInputRef = useRef()\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault()\r\n\r\n        const inputAmount = amountInputRef.current.value\r\n        if(inputAmount.trim().length === 0 || +inputAmount < 1 || +inputAmount > 10){\r\n            setIsAmountValid(false)\r\n            return\r\n        }\r\n\r\n        props.onAddToCart(+inputAmount)\r\n    } \r\n\r\n    return <form className={styles.form} onSubmit={submitHandler}>\r\n        <Input \r\n            ref={amountInputRef}\r\n            label='Количество' \r\n            input={{\r\n            id: props.id,\r\n            min: '1',\r\n            step: '1',\r\n            type: 'number',\r\n            defaultValue: '1'\r\n        }} />\r\n        <button>Добавить</button>\r\n        {!isAmountValid && <p>Пожалуйста введите количество от 1 до 10</p>}\r\n    </form>\r\n}\r\n\r\nexport default MealItemForm","import styles from './MealItem.module.css'\r\nimport MealItemForm from './MealItemForm'\r\nimport { useContext } from 'react'\r\nimport CartContext from '../../../store/cart-contex'\r\n\r\nconst MealItem = (props) => {\r\n\r\n    const cartContext = useContext(CartContext)\r\n\r\n    const formatedPrice = `$${props.price.toFixed(2)}`\r\n\r\n    const addToCartHandler = (amount) => {\r\n        cartContext.addItem({\r\n            id: props.id,\r\n            name: props.name,\r\n            amount: amount,\r\n            price: props.price\r\n        })\r\n    }\r\n\r\n    return <li className={styles.meal}>\r\n        <div><h3>{props.name}</h3>\r\n            <div className={styles.description}>{props.description}</div>\r\n            <div className={styles.price}>{formatedPrice}</div>\r\n        </div>\r\n        <div>\r\n            <MealItemForm onAddToCart={addToCartHandler} id={props.id} />\r\n        </div>\r\n    </li>\r\n}\r\n\r\nexport default MealItem","import styles from './MealList.module.css'\r\nimport { useEffect, useState } from 'react';\r\nimport Card from '../UI/Card'\r\nimport MealItem from './MealItem/MealItem';\r\n\r\nconst MealList = () => {\r\n    const [meals, setMeals] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [httpErroreMessage, setHttpErrorMessage] = useState()\r\n\r\n    useEffect(() => {\r\n        const fetchMeals = async () => {\r\n            setIsLoading(true)\r\n            const response = await fetch('https://project-743c3-default-rtdb.firebaseio.com/meals.json')\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Что-то пошло не так')\r\n            }\r\n\r\n            const responseData = await response.json()\r\n            const loadedMeals = []\r\n\r\n            for (const key in responseData) {\r\n                loadedMeals.push({\r\n                    id: key,\r\n                    name: responseData[key].name,\r\n                    description: responseData[key].description,\r\n                    price: responseData[key].price\r\n                })\r\n            }\r\n            setMeals(loadedMeals)\r\n            setIsLoading(false)\r\n        }\r\n            fetchMeals().catch((err) => {\r\n                setIsLoading(false)\r\n                setHttpErrorMessage(err.message)})\r\n        }, [])\r\n\r\n    if (isLoading) {\r\n        return <section className={styles.loading}>\r\n            <p>Извлечение данных с сервера...</p>\r\n        </section>\r\n    }\r\n\r\n    if (httpErroreMessage) {\r\n        return <section className={styles.loading}>\r\n        <p>{httpErroreMessage}</p>\r\n    </section>\r\n    }\r\n\r\n    const mealList = meals.map(meal => <MealItem \r\n        key = {meal.id}\r\n        id = {meal.id}\r\n        name = {meal.name}\r\n        description = {meal.description}\r\n        price = {meal.price}\r\n        />)\r\n\r\n    return <section className={styles.meals}>\r\n        <Card>\r\n            <ul>\r\n                {mealList}\r\n            </ul>\r\n        </Card>\r\n    </section>\r\n}\r\n\r\nexport default MealList","import PromoText from \"./PromoText\"\r\nimport MealList from \"./MealList\"\r\nimport React from \"react\"\r\n\r\nconst Meals = () => {\r\n    return <React.Fragment>\r\n        <PromoText/>\r\n        <main>\r\n            <MealList/>\r\n        </main>   \r\n    </React.Fragment>\r\n}\r\n\r\nexport default Meals","import styles from './Modal.module.css'\r\nimport React from 'react'\r\nimport ReactDOM  from 'react-dom'\r\n\r\nconst Backdrop = (props) => {\r\n    return <div className={styles.backdrop} onClick={props.onHideCart}></div>\r\n}\r\n\r\nconst ModalWindow = (props) => {\r\n    return <div className={styles.modal}>\r\n        <div className={styles.content}>{props.children}</div>\r\n    </div>\r\n}\r\n\r\nconst portalElement = document.querySelector('#overlays')\r\n\r\nconst Modal = (props) => {\r\n    return <React.Fragment>\r\n        {ReactDOM.createPortal(<Backdrop onHideCart={props.onHideCart}/>, portalElement)}\r\n        {ReactDOM.createPortal(<ModalWindow>{props.children}</ModalWindow>, portalElement)}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Modal","import classes from \"./CartItem.module.css\";\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes[\"cart-item\"]}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import styles from './SubmitOrder.module.css'\r\nimport { useRef, useState } from 'react'\r\n\r\nconst isInputValid = (inputValue) => {\r\n    return inputValue.trim() !== ''\r\n}\r\n\r\nconst SubmitOrder = (props) => {\r\n    const [formValidity, setFormValidity] = useState({\r\n        name: true,\r\n        city: true,\r\n        address: true\r\n    })\r\n\r\n    const nameInputRef = useRef()\r\n    const cityInputRef = useRef()\r\n    const addressInputRef = useRef()\r\n\r\n    const confimOrderHandler = (event) => {\r\n        event.preventDefault()\r\n        const enteredName = nameInputRef.current.value\r\n        const enteredCity = cityInputRef.current.value\r\n        const enteredAddress = addressInputRef.current.value\r\n\r\n        const isEnteredNameValid = isInputValid(enteredName)\r\n        const isEnteredCityValid = isInputValid(enteredCity)\r\n        const isEnteredAddressValid = isInputValid(enteredAddress)\r\n\r\n        setFormValidity({\r\n            name: isEnteredNameValid,\r\n            city: isEnteredCityValid,\r\n            address: isEnteredAddressValid\r\n        })\r\n\r\n        const isFormValid = isEnteredAddressValid && isEnteredNameValid && isEnteredCityValid\r\n\r\n        if (!isFormValid) {\r\n            return\r\n        }\r\n\r\n        props.onSubmit({\r\n            name: enteredName,\r\n            city: enteredCity,\r\n            address: enteredAddress\r\n        })\r\n\r\n    }\r\n\r\n    const nameInputClasses = `${styles.control} ${formValidity.name ? '' : styles.invalid}`\r\n    const cityInputClasses = `${styles.control} ${formValidity.city ? '' : styles.invalid}`\r\n    const addressInputClasses = `${styles.control} ${formValidity.address ? '' : styles.invalid}`\r\n\r\n    return <form className={styles.form} onSubmit={confimOrderHandler}>\r\n        <div className={nameInputClasses}>\r\n            <label htmlFor='name'>Имя</label>\r\n            <input type='text' id='name' ref={nameInputRef}/>\r\n            {!formValidity.name && <p>Введите имя</p>}\r\n        </div>\r\n        <div className={cityInputClasses}>\r\n            <label htmlFor='city'>Город</label>\r\n            <input type='text' id='city' ref={cityInputRef}/>\r\n            {!formValidity.city && <p>Введите город</p>}\r\n        </div>\r\n        <div className={addressInputClasses}>\r\n            <label htmlFor='adress'>Адрес</label>\r\n            <input type='text' id='adress' ref={addressInputRef}/>\r\n            {!formValidity.address && <p>Введите адрес</p>}\r\n        </div>\r\n        <div className={styles.actions}>\r\n            <button className={styles.submit}>Подтвердить Заказ</button>\r\n            <button type='button' onClick={props.onHideCart}>Отменить</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nexport default SubmitOrder","import Modal from '../UI/Modal'\r\nimport styles from './Cart.module.css'\r\nimport React, { useContext, useState } from 'react'\r\nimport CartContext from '../../store/cart-contex'\r\nimport CartItem from './CartItem'\r\nimport SubmitOrder from './SubmitOrder'\r\n\r\nconst Cart = (props) => {\r\n\r\n    const [isSubmitOrderAvailable, setIsSubmitOrderAvailable] = useState(false)\r\n    const [isDataSubmitting, setIsDataSubmitting] = useState(false)\r\n    const [wasDataSendingSuccuessful, setWasDataSendingSuccessful] = useState(false)\r\n\r\n    const cartContext = useContext(CartContext)\r\n\r\n    const totalAmount = `$${Math.abs(cartContext.totalAmount).toFixed(2)}`\r\n\r\n    const hasItems = cartContext.items.length > 0\r\n\r\n    const removeCartItemHandler = (id) => {\r\n        cartContext.removeItem(id)\r\n    }\r\n\r\n    const addCartItemHandler = (item) => {\r\n        cartContext.addItem({ ...item, amount: 1 })\r\n    }\r\n\r\n    const orderHandler = () => {\r\n        setIsSubmitOrderAvailable(true)\r\n    }\r\n\r\n    const submitOrderHandler = async (userData) => {\r\n        setIsDataSubmitting(true)\r\n\r\n        await fetch('https://project-743c3-default-rtdb.firebaseio.com/order.json', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                user: userData,\r\n                orderedMeals: cartContext.items\r\n            })\r\n        })\r\n        setIsDataSubmitting(false)\r\n        setWasDataSendingSuccessful(true)\r\n        cartContext.clearCart()\r\n    }\r\n\r\n    const cardItems = <ul className={styles['cart-items']}>{cartContext.items.map(item => <CartItem key={item.id} name={item.name} amount={item.amount} price={item.price} onAdd={addCartItemHandler.bind(null, item)} onRemove={removeCartItemHandler.bind(null, item.id)} />)}</ul>\r\n\r\n    const modalButtons = (\r\n    <div className={styles.actions}>\r\n        <button onClick={props.onHideCart} className={styles['button-alt']}>Закрыть</button>\r\n        {hasItems && <button className={styles.button} onClick={orderHandler}>Заказать</button>}\r\n    </div>\r\n    )\r\n\r\n    const cartModalContent = (\r\n        <React.Fragment>\r\n            {cardItems}\r\n            <div className={styles.total}>\r\n                <span>Итого</span>\r\n                <span>{totalAmount}</span>\r\n            </div>\r\n            {isSubmitOrderAvailable && <SubmitOrder onSubmit={submitOrderHandler} onHideCart={props.onHideCart}/>}\r\n            {!isSubmitOrderAvailable && modalButtons}\r\n        </React.Fragment>\r\n    )\r\n\r\n    const dataSubmittingCartModalContent = <p>Отправка данных заказа...</p>\r\n\r\n    const dataWasSubmittedCartModalContent = <React.Fragment><p>Ваш заказ успешно отправлен!</p>    <div className={styles.actions}>\r\n    <button onClick={props.onHideCart} className={styles['button-alt']}>Закрыть</button>\r\n</div></React.Fragment>\r\n\r\n    return <Modal onHideCart={props.onHideCart}>\r\n        {!isDataSubmitting && !wasDataSendingSuccuessful && cartModalContent}\r\n        {isDataSubmitting && dataSubmittingCartModalContent}\r\n        {wasDataSendingSuccuessful && dataWasSubmittedCartModalContent}\r\n    </Modal>\r\n}\r\n\r\nexport default Cart","import CartContext from \"./cart-contex\"\r\nimport { useReducer } from \"react\"\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0\r\n}\r\n\r\nconst cartReducer = (state, action) => {\r\n    if (action.type === 'ADD_ITEM') {\r\n        const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount\r\n\r\n        const existingCartItemIndex = state.items.findIndex(item => {\r\n           return item.id === action.item.id\r\n        })\r\n\r\n        const exestingCartItem = state.items[existingCartItemIndex]\r\n\r\n        let updatedItems\r\n        let updetedItem\r\n\r\n        if (exestingCartItem) {\r\n            updetedItem = {\r\n                ...exestingCartItem,\r\n                amount: exestingCartItem.amount + action.item.amount\r\n            }\r\n\r\n            updatedItems = [...state.items]\r\n            updatedItems[existingCartItemIndex] = updetedItem\r\n        } else {\r\n            updetedItem = {\r\n                ...action.item\r\n            }\r\n            updatedItems = state.items.concat(action.item)\r\n        }\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount\r\n        }\r\n    }\r\n    if (action.type === 'REMOVE_ITEM') {\r\n\r\n\r\n        const existingCartItemIndex = state.items.findIndex((item) => {\r\n            console.log(item)\r\n            return item.id === action.id\r\n         })\r\n\r\n         const exestingCartItem = state.items[existingCartItemIndex]\r\n\r\n         const updatedTotalAmount = state.totalAmount - exestingCartItem.price\r\n\r\n         let updatedItems\r\n         if(exestingCartItem.amount === 1) {\r\n            updatedItems = state.items.filter(item => item.id !== action.id)\r\n         } else {\r\n            const updetedItem = {...exestingCartItem, amount:exestingCartItem.amount - 1}\r\n            updatedItems = [...state.items]\r\n            updatedItems[existingCartItemIndex] = updetedItem\r\n         }\r\n         return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount\r\n         }\r\n\r\n    }\r\n\r\n    if (action.type === 'CLEAR_CART') {\r\n        return defaultCartState\r\n    }\r\n\r\n    return defaultCartState\r\n}\r\n\r\nconst CartContextProvider = (props) => {\r\n\r\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState)\r\n\r\n    const addItemHandler = (item) => {\r\n        dispatchCartAction({\r\n            type: 'ADD_ITEM',\r\n            item: item\r\n        })\r\n    }\r\n\r\n    const removeItemHandler = (id) => {\r\n        dispatchCartAction({\r\n            type: 'REMOVE_ITEM',\r\n            id: id\r\n        })\r\n    }\r\n\r\n    const clearCartHandler = () => {\r\n        dispatchCartAction({type: 'CLEAR_CART'})\r\n    }\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        addItem: addItemHandler,\r\n        removeItem: removeItemHandler,\r\n        clearCart: clearCartHandler\r\n    }\r\n\r\n    return <CartContext.Provider value={cartContext}>{props.children}</CartContext.Provider>\r\n}\r\n\r\nexport default CartContextProvider","import Header from './components/Layout/Header'\nimport React, { useState } from 'react'\nimport Meals from './components/Meals/Meals';\nimport Cart from './components/Cart/Cart';\nimport CartContextProvider from './store/CartContextProvider';\n\n\nfunction App() {\n\n  const [cartIsVisible, setCartIsVisible] = useState(false)\n  \n  const showCartHandler = () => {\n    setCartIsVisible(true)\n  }\n\n  const hideCartHandler = () => {\n    setCartIsVisible(false)\n  }\n  \n  return (\n\n    <CartContextProvider>\n      {cartIsVisible && <Cart onHideCart={hideCartHandler}/>}\n      <Header onShowCart={showCartHandler}/>\n      <Meals/>\n    </CartContextProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}